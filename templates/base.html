<!doctype html>
<html lang="tr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sardis § Wallet</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        background: linear-gradient(135deg, #0f172a, #111827 60%, #0b1020);
        min-height: 100vh;
        color: #fff;
      }
      .navbar {
        background: rgba(17, 25, 40, 0.65) !important;
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(255,255,255,.12);
      }
      .navbar-brand {
        font-weight: 700;
        color: #fff !important;
      }
      .btn-icon {
        width: 40px;
        height: 40px;
        border-radius: 12px;
        display: grid;
        place-items: center;
        padding: 0;
      }
      .alert {
        border-radius: .75rem;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg">
      <div class="container">
        <a class="navbar-brand" href="{{ url_for('home') }}">§ardisium</a>
        <div class="ms-auto d-flex align-items-center gap-2">
          {% if current_user.is_authenticated %}
            <a class="btn btn-outline-light btn-icon" href="{{ url_for('notifications') }}" title="Bildirimler">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8 16a2 2 0 0 0 1.985-1.75H6.015A2 2 0 0 0 8 16Zm.104-14a2 2 0 0 1 1.996 1.85l.4 4.8 1.25 1.25a.5.5 0 0 1-.353.854H4.603a.5.5 0 0 1-.353-.854l1.25-1.25.4-4.8A2 2 0 0 1 7.896 2h.208Z"/>
              </svg>
            </a>
            <a class="btn btn-outline-light btn-icon" href="{{ url_for('qr') }}" title="QR Kodum">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                <path d="M2 2h2v2H2V2Zm0 3h1v1H2V5Zm2 0h1v1H4V5Zm1-3h1v1H5V2Zm3 0h1v1H8V2Zm1 3h1v1H9V5Zm-1 0h1v1H8V5ZM7 2h1v1H7V2ZM2 8h1v1H2V8Zm3 0h1v1H5V8Zm-3 3h2v2H2v-2Zm3 2v-1h1v1H5Zm3 0v-1h1v1H8Zm6-11h-2v2h2V2Zm-3 0h-1v1h1V2Zm3 3h-1v1h1V5Zm-3 0h-1v1h1V5ZM2 12h1v1H2v-1Zm9-4h1v1h-1V8Zm1 2h1v1h-1v-1Zm-1 1h1v1h-1v-1Zm2 1h1v1h-1v-1Zm-4-4h1v1h-1V8Zm-1 3h1v1h-1v-1Z"/>
              </svg>
            </a>
            <a class="btn btn-outline-light btn-icon" href="{{ url_for('history') }}" title="Geçmiş">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8 3.5a.5.5 0 0 1 .5.5v4.25l3 1.8a.5.5 0 1 1-.5.866l-3.5-2.1A.5.5 0 0 1 7 8V4a.5.5 0 0 1 .5-.5Z"/>
                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm0-1A7 7 0 1 1 8 1a7 7 0 0 1 0 14Z"/>
              </svg>
            </a>
            <a class="btn btn-outline-light btn-icon" href="{{ url_for('transfer') }}" title="Gönder">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                <path d="M0 7a2 2 0 0 1 2-2h8.293L7.646 2.354a.5.5 0 1 1 .708-.708l4.5 4.5a.5.5 0 0 1 0 .708l-4.5 4.5a.5.5 0 1 1-.708-.708L10.293 7H2A1 1 0 0 0 1 8v5.5a.5.5 0 0 1-1 0Z"/>
              </svg>
            </a>
            <a class="btn btn-outline-danger btn-icon" href="{{ url_for('logout') }}" title="Çıkış">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                <path d="M6 2a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-1h1v1h7V2H7v1H6V2Zm-1.5 5.5a.5.5 0 0 0 0 1h5.793l-1.147 1.146a.5.5 0 0 0 .708.708l2-2a.498.498 0 0 0 .106-.168.498.498 0 0 0 0-.382.498.498 0 0 0-.106-.168l-2-2a.5.5 0 1 0-.708.708L10.293 7.5H4.5Z"/>
              </svg>
            </a>
          {% else %}
            <a class="btn btn-outline-light me-2" href="{{ url_for('login') }}">Giriş</a>
            <a class="btn btn-gradient" href="{{ url_for('register') }}">Kayıt</a>
          {% endif %}
        </div>
      </div>
    </nav>

    <main class="container py-4">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for cat, msg in messages %}
            <div class="alert alert-{{cat}}">{{ msg }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      {% block content %}{% endblock %}
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/html5-qrcode"></script>
  </body>
</html>
